function [] = export_results(rankings, accuracies, map, sift_type, dense,...
vocab_size, vocab_freq, num_train, test_files, kernel, step_size, block_size)
% Exports html template result
file = strcat('./result_', dense, '_', sift_type, '_',... 
num2str(step_size), '_', num2str(block_size), '_', num2str(vocab_size), '_', num2str(num_train), '_', kernel,'.html');
fid = fopen(file, 'w');
fprintf(fid,  ['<!DOCTYPE html>'...
                '<html lang="en">'...
                '  <head>'...
                '    <meta charset="utf-8">'...
                '    <title>Image list prediction</title>'...
                '    <style type="text/css">img { width:200px; }</style>'...
                '  </head>'...
                '  <body>']);
fprintf(fid, '<h2>%s, %s</h2>', 'Mircea Mironenco', 'Bogdan Teleaga');
fprintf(fid, '<h1>Settings</h1>');
fprintf(fid, ['<table><tr><th>SIFT step size</th><td>%3d px</td></tr>'...
                   '<tr><th>SIFT block sizes</th><td>%3d pixels</td></tr>'...
                   '<tr><th>SIFT method</th><td>%s %s-SIFT</td></tr>'...
                   '<tr><th>Vocabulary size</th><td>%3d words</td></tr>'...
                   '<tr><th>Vocabulary fraction</th><td>%3d </td</tr>'... 
                   '<tr><th>SVM training data</th><td>%3d positive, %3d negative per class</td></tr>'...
                   '<tr><th>SVM kernel type</th><td>%s</td></tr></table>'],...
                  step_size, block_size, dense, sift_type, vocab_size,...
                  vocab_freq, num_train, num_train*3, kernel);
fprintf(fid, ['<h1>Prediction lists (MAP: %.3f)</h1>'...
                  '<h3><font color="red">Following are the ranking lists for the four categories. Please fill in your lists.</font></h3>'...
                  '<h3><font color="red">The length of each column should be 200 (containing all test images).</font></h3>'...
                  '<table>'...
                  '<thead>'...
                  '<tr>'...
                  '<th>Airplanes (AP: %.3f)</th>'...
                  '<th>Cars (AP: %.3f)</th>'...
                  '<th>Faces (AP: %.3f)</th>'...
                  '<th>Motorbikes (AP: %.3f)</th>'...
                  '</tr>'...
                  '</thead>'...
                  '<tbody>'],...
            map, accuracies(1), accuracies(2), accuracies(3), accuracies(4));

airplane_rk = rankings{1};
cars_rk = rankings{2};
faces_rk = rankings{3};
motorbikes_rk = rankings{4};

for i=1:length(test_files)

fprintf(fid, ['<tr><td><img src="%s" /></td>'...
                  '<td><img src="%s" /></td>'...
                  '<td><img src="%s" /></td>'...
                  '<td><img src="%s" /></td></tr>'],...
                test_files{airplane_rk(i, 3)}, test_files{cars_rk(i, 3)},...
                test_files{faces_rk(i, 3)}, test_files{motorbikes_rk(i, 3)});
end
fprintf(fid, '</tbody></table></body></html>');
fclose(fid);
end

